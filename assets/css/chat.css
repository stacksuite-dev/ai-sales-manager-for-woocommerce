/**
 * AISales Chat Styles - Refined Workspace Design
 *
 * A polished, professional chat interface that matches the Manager page
 * design system while providing a focused workspace experience.
 *
 * @package AISales_Sales_Manager
 */

/* ==========================================================================
   Chat Page Wrapper
   ========================================================================== */

.aisales-admin-wrap.aisales-chat-wrap {
	max-width: 1600px;
}

/* Hidden h1 anchor for WordPress notices - keeps notices at top of page */
.aisales-admin-wrap.aisales-chat-wrap > h1.aisales-notices-anchor {
	display: block;
	height: 0;
	margin: 0;
	padding: 0;
	border: none;
	visibility: hidden;
}

/* Page title styling (replaces h1 inside header) */
.aisales-chat-page-title {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-3);
	font-size: 23px;
	font-weight: 400;
	line-height: 1.3;
	color: var(--aisales-text-primary);
}

.aisales-chat-page-title .dashicons {
	font-size: 28px;
	width: 28px;
	height: 28px;
	color: var(--aisales-primary);
}

/* Balance Indicator - Styles moved to shared-components.css */
/* Chat-specific overrides for balance indicator */
.aisales-balance-indicator {
	margin-left: auto;
}

.aisales-balance-indicator #aisales-balance-display {
	font-weight: var(--aisales-font-weight-bold);
	color: var(--aisales-text-primary);
	transition: color 0.3s ease;
}

/* Balance animation states - chat-specific using #aisales-balance-display */
.aisales-balance-indicator.aisales-balance--decreasing #aisales-balance-display {
	color: var(--aisales-danger, #dc3545);
}

.aisales-balance-indicator.aisales-balance--increasing #aisales-balance-display {
	color: var(--aisales-success, #28a745);
}

/* Notices Container - JS moves notices here from header */
.aisales-chat-wrap .aisales-notices-container {
	margin-bottom: var(--aisales-space-4);
}

.aisales-chat-wrap .aisales-notices-container:empty {
	display: none;
}

/* Fallback: Style notices that appear between h1 and chat container if JS doesn't run */
.aisales-admin-wrap.aisales-chat-wrap > .notice,
.aisales-admin-wrap.aisales-chat-wrap > .notice-warning,
.aisales-admin-wrap.aisales-chat-wrap > .notice-error,
.aisales-admin-wrap.aisales-chat-wrap > .notice-info,
.aisales-admin-wrap.aisales-chat-wrap > .notice-success,
.aisales-admin-wrap.aisales-chat-wrap > .updated,
.aisales-admin-wrap.aisales-chat-wrap > .error {
	margin: var(--aisales-space-3) 0;
}

/* ==========================================================================
   Chat Container Layout
   ========================================================================== */

.aisales-chat-container {
	display: grid;
	grid-template-columns: 1fr 380px;
	gap: var(--aisales-space-6);
	align-items: start;
}

/* ==========================================================================
   Chat Panel (Main Area)
   ========================================================================== */

.aisales-chat-panel {
	position: sticky;
	top: 32px; /* WordPress admin bar height */
	display: flex;
	flex-direction: column;
	background: var(--aisales-bg-white);
	border: 1px solid var(--aisales-border-light);
	border-radius: var(--aisales-radius-lg);
	box-shadow: var(--aisales-shadow-sm);
	overflow: hidden;
	min-height: 0;
	height: calc(100vh - 80px);
}

/* ----- Chat Header ----- */
.aisales-chat-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	gap: var(--aisales-space-4);
	padding: var(--aisales-space-4) var(--aisales-space-5);
	background: linear-gradient(180deg, var(--aisales-bg-white) 0%, var(--aisales-bg-subtle) 100%);
	border-bottom: 1px solid var(--aisales-border-light);
}

.aisales-product-selector {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-3);
	flex: 1;
}

.aisales-product-selector label {
	font-weight: var(--aisales-font-weight-semibold);
	color: var(--aisales-text-primary);
	white-space: nowrap;
	font-size: var(--aisales-font-sm);
}

.aisales-select {
	flex: 1;
	max-width: 350px;
	padding: var(--aisales-space-3) var(--aisales-space-4);
	border: 1px solid var(--aisales-border);
	border-radius: var(--aisales-radius-md);
	background: var(--aisales-bg-white);
	font-size: var(--aisales-font-base);
	color: var(--aisales-text-primary);
	cursor: pointer;
	transition: all var(--aisales-transition-fast);
	box-shadow: var(--aisales-shadow-xs);
}

.aisales-select:hover {
	border-color: var(--aisales-border);
	box-shadow: var(--aisales-shadow-sm);
}

.aisales-select:focus {
	outline: none;
	border-color: var(--aisales-primary);
	box-shadow: 0 0 0 3px var(--aisales-primary-light);
}

.aisales-chat-actions {
	display: flex;
	gap: var(--aisales-space-2);
}

/* ==========================================================================
   Chat Messages Area
   ========================================================================== */

.aisales-chat-messages {
	flex: 1;
	overflow-y: auto;
	overflow-x: hidden;
	padding: var(--aisales-space-6);
	display: flex;
	flex-direction: column;
	gap: var(--aisales-space-5);
	min-height: 0; /* Critical for flex overflow to work */
	background:
		radial-gradient(ellipse at top left, rgba(34, 113, 177, 0.02) 0%, transparent 50%),
		radial-gradient(ellipse at bottom right, rgba(0, 163, 42, 0.02) 0%, transparent 50%),
		var(--aisales-bg-white);
}

/* Custom scrollbar for chat messages */
.aisales-chat-messages::-webkit-scrollbar {
	width: 6px;
}

.aisales-chat-messages::-webkit-scrollbar-track {
	background: transparent;
}

.aisales-chat-messages::-webkit-scrollbar-thumb {
	background: var(--aisales-border);
	border-radius: 3px;
}

.aisales-chat-messages::-webkit-scrollbar-thumb:hover {
	background: var(--aisales-text-muted);
}

/* ----- Welcome State ----- */
.aisales-chat-welcome {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	text-align: center;
	padding: var(--aisales-space-10);
	flex: 1;
}

.aisales-chat-welcome__icon {
	width: 80px;
	height: 80px;
	border-radius: 50%;
	background: linear-gradient(135deg, var(--aisales-primary-light) 0%, var(--aisales-success-light) 100%);
	display: flex;
	align-items: center;
	justify-content: center;
	margin-bottom: var(--aisales-space-6);
	box-shadow:
		0 8px 24px rgba(34, 113, 177, 0.15),
		inset 0 -2px 8px rgba(0, 0, 0, 0.05);
}

.aisales-chat-welcome__icon .dashicons {
	font-size: 36px;
	width: 36px;
	height: 36px;
	background: linear-gradient(135deg, var(--aisales-primary) 0%, var(--aisales-success) 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

/* Fallback for older dashicons styling */
.aisales-chat-welcome .dashicons {
	font-size: 48px;
	width: 48px;
	height: 48px;
	color: var(--aisales-text-muted);
	opacity: 0.4;
}

.aisales-chat-welcome h3 {
	font-size: var(--aisales-font-xl);
	font-weight: var(--aisales-font-weight-bold);
	color: var(--aisales-text-primary);
	margin: 0 0 var(--aisales-space-3) 0;
}

.aisales-chat-welcome p {
	font-size: var(--aisales-font-md);
	color: var(--aisales-text-secondary);
	margin: 0;
	max-width: 420px;
	line-height: var(--aisales-line-height-relaxed);
}

/* ----- Message Styles ----- */
.aisales-message {
	display: flex;
	gap: var(--aisales-space-3);
	max-width: 80%;
	animation: messageSlideIn 0.3s ease-out;
}

@keyframes messageSlideIn {
	from {
		opacity: 0;
		transform: translateY(12px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.aisales-message--user {
	align-self: flex-end;
	flex-direction: row-reverse;
}

.aisales-message--assistant,
.aisales-message--system {
	align-self: flex-start;
}

.aisales-message--error {
	align-self: center;
	max-width: 100%;
}

.aisales-message__avatar {
	flex-shrink: 0;
	width: 36px;
	height: 36px;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: var(--aisales-shadow-sm);
}

.aisales-message--user .aisales-message__avatar {
	background: linear-gradient(135deg, var(--aisales-primary) 0%, var(--aisales-primary-hover) 100%);
	color: white;
}

.aisales-message--assistant .aisales-message__avatar {
	background: linear-gradient(135deg, var(--aisales-success-light) 0%, #d4edda 100%);
	color: var(--aisales-success);
	border: 1px solid rgba(0, 163, 42, 0.2);
}

.aisales-message--system .aisales-message__avatar {
	background: var(--aisales-info-light);
	color: var(--aisales-info);
}

.aisales-message--error .aisales-message__avatar {
	background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
	color: var(--aisales-danger);
	border: 1px solid rgba(220, 38, 38, 0.2);
}

.aisales-message__avatar .dashicons {
	font-size: 18px;
	width: 18px;
	height: 18px;
}

.aisales-message__content {
	flex: 1;
	min-width: 0;
}

.aisales-message__text {
	padding: var(--aisales-space-4);
	border-radius: var(--aisales-radius-lg);
	font-size: var(--aisales-font-md);
	line-height: var(--aisales-line-height-relaxed);
	box-shadow: var(--aisales-shadow-xs);
}

.aisales-message--user .aisales-message__text {
	background: linear-gradient(135deg, var(--aisales-primary) 0%, var(--aisales-primary-hover) 100%);
	color: white;
	border-bottom-right-radius: var(--aisales-radius-sm);
}

.aisales-message--assistant .aisales-message__text {
	background: var(--aisales-bg-white);
	color: var(--aisales-text-primary);
	border: 1px solid var(--aisales-border-light);
	border-bottom-left-radius: var(--aisales-radius-sm);
}

.aisales-message--system .aisales-message__text {
	background: var(--aisales-info-light);
	color: var(--aisales-text-primary);
	border: 1px solid rgba(114, 174, 230, 0.3);
}

.aisales-message--error .aisales-message__text {
	background: linear-gradient(135deg, #fef2f2 0%, #fce8e8 100%);
	color: #991b1b;
	border: 1px solid rgba(220, 38, 38, 0.25);
	font-size: var(--aisales-font-sm);
	line-height: 1.5;
}

.aisales-message--error .aisales-message__text code {
	background: rgba(220, 38, 38, 0.1);
	color: #b91c1c;
	font-size: 0.85em;
	word-break: break-word;
}

.aisales-message__text code {
	background: rgba(0, 0, 0, 0.08);
	padding: 2px 6px;
	border-radius: var(--aisales-radius-sm);
	font-family: var(--aisales-font-mono);
	font-size: 0.9em;
}

.aisales-message--user .aisales-message__text code {
	background: rgba(255, 255, 255, 0.2);
}

.aisales-message__meta {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-top: var(--aisales-space-2);
	padding: 0 var(--aisales-space-2);
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-muted);
}

.aisales-message__tokens {
	opacity: 0.8;
}

/* ----- Thinking Animation ----- */
.aisales-thinking {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-4);
	background: var(--aisales-bg-white);
	border-radius: var(--aisales-radius-lg);
	border: 1px solid var(--aisales-border-light);
	box-shadow: var(--aisales-shadow-xs);
}

.aisales-thinking__dot {
	width: 8px;
	height: 8px;
	background: linear-gradient(135deg, var(--aisales-primary) 0%, var(--aisales-primary-hover) 100%);
	border-radius: 50%;
	animation: thinkingBounce 1.4s ease-in-out infinite;
}

.aisales-thinking__dot:nth-child(1) { animation-delay: 0s; }
.aisales-thinking__dot:nth-child(2) { animation-delay: 0.2s; }
.aisales-thinking__dot:nth-child(3) { animation-delay: 0.4s; }

.aisales-thinking__text {
	color: var(--aisales-text-secondary);
	font-size: var(--aisales-font-sm);
	margin-left: var(--aisales-space-2);
	font-weight: var(--aisales-font-weight-medium);
}

@keyframes thinkingBounce {
	0%, 80%, 100% {
		transform: scale(0.6);
		opacity: 0.4;
	}
	40% {
		transform: scale(1);
		opacity: 1;
	}
}

/* ==========================================================================
   Suggestion Cards - Option Picker Design
   ========================================================================== */

/* Suggestions Group Container */
.aisales-suggestions-group {
	margin-top: var(--aisales-space-4);
	background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
	border: 1px solid var(--aisales-border);
	border-radius: var(--aisales-radius-lg);
	overflow: hidden;
	animation: groupSlideIn 0.3s ease-out;
}

@keyframes groupSlideIn {
	from { opacity: 0; transform: translateY(10px); }
	to { opacity: 1; transform: translateY(0); }
}

.aisales-suggestions-group__header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: var(--aisales-space-3) var(--aisales-space-4);
	background: linear-gradient(135deg, var(--aisales-primary) 0%, #1a5490 100%);
	color: white;
}

.aisales-suggestions-group__title {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	font-weight: var(--aisales-font-weight-semibold);
	font-size: var(--aisales-font-sm);
}

.aisales-suggestions-group__title .dashicons {
	font-size: 16px;
	width: 16px;
	height: 16px;
	opacity: 0.9;
}

.aisales-suggestions-group__count {
	font-size: var(--aisales-font-xs);
	background: rgba(255,255,255,0.2);
	padding: 2px 8px;
	border-radius: 10px;
}

.aisales-suggestions-group__current {
	padding: var(--aisales-space-3) var(--aisales-space-4);
	background: white;
	border-bottom: 1px solid var(--aisales-border-light);
}

.aisales-suggestions-group__current-label {
	font-size: 10px;
	text-transform: uppercase;
	letter-spacing: 0.5px;
	color: var(--aisales-text-muted);
	margin-bottom: 4px;
}

.aisales-suggestions-group__current-value {
	font-size: var(--aisales-font-sm);
	color: var(--aisales-text-secondary);
	font-style: italic;
}

.aisales-suggestions-group__options {
	padding: var(--aisales-space-3);
	display: flex;
	flex-direction: column;
	gap: var(--aisales-space-2);
}

/* Individual Suggestion Option */
.aisales-suggestion {
	position: relative;
	padding: var(--aisales-space-3) var(--aisales-space-4);
	background: white;
	border: 2px solid transparent;
	border-radius: var(--aisales-radius-md);
	cursor: pointer;
	transition: all 0.2s ease;
	display: flex;
	align-items: center;
	gap: var(--aisales-space-3);
}

.aisales-suggestion:hover {
	border-color: var(--aisales-primary);
	background: linear-gradient(135deg, #f0f7ff 0%, #e8f4fd 100%);
	transform: translateX(4px);
}

.aisales-suggestion--selected {
	border-color: var(--aisales-success);
	background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
	box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
}

.aisales-suggestion--applied {
	border-color: var(--aisales-success);
	background: var(--aisales-success-light);
	pointer-events: none;
}

.aisales-suggestion--discarded {
	border-color: var(--aisales-border);
	background: var(--aisales-bg-subtle);
	opacity: 0.5;
	pointer-events: none;
}

/* Option Number Badge */
.aisales-suggestion__number {
	flex-shrink: 0;
	width: 28px;
	height: 28px;
	display: flex;
	align-items: center;
	justify-content: center;
	background: var(--aisales-bg-muted);
	color: var(--aisales-text-muted);
	border-radius: 50%;
	font-size: 12px;
	font-weight: var(--aisales-font-weight-semibold);
	transition: all 0.2s ease;
}

.aisales-suggestion:hover .aisales-suggestion__number {
	background: var(--aisales-primary);
	color: white;
}

.aisales-suggestion--selected .aisales-suggestion__number {
	background: var(--aisales-success);
	color: white;
}

/* Suggestion Content */
.aisales-suggestion__content {
	flex: 1;
	min-width: 0;
}

.aisales-suggestion__value {
	color: var(--aisales-text-primary);
	font-size: var(--aisales-font-sm);
	word-break: break-word;
	line-height: 1.5;
}

/* Quick Actions for Single Suggestion */
.aisales-suggestion__actions {
	flex-shrink: 0;
	display: flex;
	gap: var(--aisales-space-1);
	opacity: 0;
	pointer-events: none;
	transition: opacity 0.2s ease;
}

.aisales-suggestion:hover .aisales-suggestion__actions,
.aisales-suggestion--selected .aisales-suggestion__actions {
	opacity: 1;
	pointer-events: auto;
}

.aisales-suggestion__actions .aisales-btn {
	padding: 6px 12px;
	font-size: 12px;
}

/* Status Badge */
.aisales-suggestion__status {
	display: inline-flex;
	align-items: center;
	gap: var(--aisales-space-1);
	font-size: 12px;
	font-weight: var(--aisales-font-weight-medium);
	padding: 4px 10px;
	border-radius: 12px;
}

.aisales-suggestion__status--applied {
	color: var(--aisales-success);
	background: var(--aisales-success-light);
}

.aisales-suggestion__status--discarded {
	color: var(--aisales-text-muted);
	background: var(--aisales-bg-muted);
}

/* Legacy support - hide old elements when in group */
.aisales-suggestions-group .aisales-suggestion__header,
.aisales-suggestions-group .aisales-suggestion__preview,
.aisales-suggestions-group .aisales-suggestion__current,
.aisales-suggestions-group .aisales-suggestion__new,
.aisales-suggestions-group .aisales-suggestion__arrow,
.aisales-suggestions-group .aisales-suggestion__label {
	display: none;
}

/* Standalone suggestion (single suggestion, not in group) */
.aisales-message__content > .aisales-suggestion {
	margin-top: var(--aisales-space-4);
	padding: var(--aisales-space-4);
	border: 2px solid var(--aisales-primary);
	border-radius: var(--aisales-radius-lg);
	box-shadow: var(--aisales-shadow-sm);
	cursor: default;
	flex-direction: column;
	align-items: stretch;
	gap: var(--aisales-space-3);
}

.aisales-message__content > .aisales-suggestion:hover {
	transform: none;
	border-color: var(--aisales-primary);
	background: white;
}

.aisales-message__content > .aisales-suggestion .aisales-suggestion__header,
.aisales-message__content > .aisales-suggestion .aisales-suggestion__preview,
.aisales-message__content > .aisales-suggestion .aisales-suggestion__actions {
	display: flex;
}

.aisales-message__content > .aisales-suggestion .aisales-suggestion__number {
	display: none;
}

.aisales-message__content > .aisales-suggestion .aisales-suggestion__actions {
	opacity: 1;
}

/* Suggestion Header (for standalone) */
.aisales-suggestion__header {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	color: var(--aisales-primary);
	font-weight: var(--aisales-font-weight-semibold);
	font-size: var(--aisales-font-sm);
}

.aisales-suggestion__header .dashicons {
	font-size: 16px;
	width: 16px;
	height: 16px;
}

/* Suggestion Preview (for standalone) */
.aisales-suggestion__preview {
	display: flex;
	align-items: stretch;
	gap: var(--aisales-space-3);
}

.aisales-suggestion__current,
.aisales-suggestion__new {
	flex: 1;
	padding: var(--aisales-space-3);
	border-radius: var(--aisales-radius-md);
	font-size: var(--aisales-font-sm);
}

.aisales-suggestion__current {
	background: var(--aisales-bg-muted);
	border: 1px solid var(--aisales-border);
}

.aisales-suggestion__new {
	background: var(--aisales-success-light);
	border: 1px solid var(--aisales-success);
}

.aisales-suggestion__label {
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
	margin-bottom: var(--aisales-space-1);
}

.aisales-suggestion__arrow {
	display: flex;
	align-items: center;
	color: var(--aisales-success);
}

/* ==========================================================================
   Quick Actions
   ========================================================================== */

.aisales-quick-actions {
	padding: var(--aisales-space-3) var(--aisales-space-5);
	background: linear-gradient(180deg, var(--aisales-bg-subtle) 0%, var(--aisales-bg-white) 100%);
	border-top: 1px solid var(--aisales-border-light);
	flex-shrink: 0;
}

.aisales-quick-actions__label {
	display: block;
	font-size: var(--aisales-font-xs);
	font-weight: var(--aisales-font-weight-semibold);
	color: var(--aisales-text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
	margin-bottom: var(--aisales-space-3);
}

.aisales-quick-actions__buttons {
	display: flex;
	flex-wrap: wrap;
	gap: var(--aisales-space-2);
}

/* Quick Action Buttons - Pill Style */
.aisales-quick-actions__buttons .aisales-btn {
	padding: var(--aisales-space-2) var(--aisales-space-4);
	font-size: var(--aisales-font-sm);
	border-radius: var(--aisales-radius-full);
	background: var(--aisales-bg-white);
	border: 1px solid var(--aisales-border);
	color: var(--aisales-text-secondary);
	box-shadow: var(--aisales-shadow-xs);
	transition: all var(--aisales-transition-fast);
}

.aisales-quick-actions__buttons .aisales-btn:not(:disabled):hover {
	background: var(--aisales-primary-light);
	border-color: var(--aisales-primary);
	color: var(--aisales-primary);
	box-shadow: var(--aisales-shadow-sm);
	transform: translateY(-1px);
}

.aisales-quick-actions__buttons .aisales-btn:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

.aisales-quick-actions__buttons .aisales-btn .dashicons {
	font-size: 14px;
	width: 14px;
	height: 14px;
	margin-right: var(--aisales-space-1);
}

/* ==========================================================================
   Chat Input - Floating Style
   ========================================================================== */

.aisales-chat-input {
	padding: 0;
	background: transparent;
	border-top: none;
	flex-shrink: 0;
}

.aisales-chat-input__wrapper {
	display: flex;
	gap: var(--aisales-space-3);
	align-items: center;
	margin: var(--aisales-space-4) var(--aisales-space-5);
	padding: var(--aisales-space-3);
	background: var(--aisales-bg-white);
	border: none;
	border-radius: var(--aisales-radius-xl);
	box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
	transition: all var(--aisales-transition-fast);
}

.aisales-chat-input textarea {
	flex: 1;
	padding: var(--aisales-space-2) var(--aisales-space-3);
	border: none;
	border-radius: var(--aisales-radius-md);
	font-size: var(--aisales-font-md);
	font-family: inherit;
	resize: none;
	min-height: 28px;
	max-height: 120px;
	background: transparent;
	transition: all var(--aisales-transition-fast);
}

.aisales-chat-input textarea,
.aisales-chat-input textarea:focus,
.aisales-chat-input textarea:active {
	outline: none !important;
	border: none !important;
	box-shadow: none !important;
}

.aisales-chat-input textarea:disabled {
	background: transparent;
	cursor: not-allowed;
	color: var(--aisales-text-muted);
}

.aisales-chat-input__wrapper:has(textarea:disabled) {
	background: var(--aisales-bg-muted);
	box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.06);
	border-color: var(--aisales-border-light);
}

/* Subtle shimmer when loading */
.aisales-chat-input__wrapper:has(textarea:disabled):has(+ .aisales-btn--loading),
.aisales-chat-input__wrapper:has(.aisales-btn--loading) {
	position: relative;
	overflow: hidden;
}

.aisales-chat-input__wrapper:has(.aisales-btn--loading)::after {
	content: '';
	position: absolute;
	top: 0;
	left: -100%;
	width: 100%;
	height: 100%;
	background: linear-gradient(
		90deg,
		transparent 0%,
		rgba(34, 113, 177, 0.05) 50%,
		transparent 100%
	);
	animation: inputShimmer 2s ease-in-out infinite;
	pointer-events: none;
}

@keyframes inputShimmer {
	0% { left: -100%; }
	100% { left: 100%; }
}

.aisales-chat-input textarea::placeholder {
	color: var(--aisales-text-muted);
}

/* Send Button - Circular */
.aisales-chat-input .aisales-btn--primary {
	position: relative;
	flex-shrink: 0;
	width: 40px;
	height: 40px;
	padding: 0;
	border-radius: 50%;
	background: linear-gradient(135deg, var(--aisales-primary) 0%, var(--aisales-primary-hover) 100%);
	border: none;
	box-shadow: 0 2px 8px rgba(34, 113, 177, 0.3);
	transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
	overflow: hidden;
}

.aisales-chat-input .aisales-btn--primary .aisales-btn__text {
	display: none;
}

.aisales-chat-input .aisales-btn--primary .dashicons {
	font-size: 18px;
	width: 18px;
	height: 18px;
	transition: transform 0.2s ease;
}

/* Shine effect on hover */
.aisales-chat-input .aisales-btn--primary::before {
	content: '';
	position: absolute;
	top: -50%;
	left: -50%;
	width: 200%;
	height: 200%;
	background: linear-gradient(
		45deg,
		transparent 40%,
		rgba(255, 255, 255, 0.2) 50%,
		transparent 60%
	);
	transform: translateX(-100%);
	transition: transform 0.5s ease;
}

.aisales-chat-input .aisales-btn--primary:not(:disabled):hover {
	transform: scale(1.1);
	box-shadow:
		0 4px 16px rgba(34, 113, 177, 0.4),
		0 0 20px rgba(34, 113, 177, 0.15);
}

.aisales-chat-input .aisales-btn--primary:not(:disabled):hover::before {
	transform: translateX(100%);
}

.aisales-chat-input .aisales-btn--primary:not(:disabled):hover .dashicons {
	transform: translateX(2px);
}

.aisales-chat-input .aisales-btn--primary:not(:disabled):active {
	transform: scale(0.95);
}

.aisales-chat-input .aisales-btn--primary:disabled {
	opacity: 0.4;
	cursor: not-allowed;
	box-shadow: none;
}

/* Send Button Loading State */
.aisales-chat-input .aisales-btn--primary.aisales-btn--loading {
	opacity: 1;
	pointer-events: none;
	background: linear-gradient(135deg, var(--aisales-primary) 0%, var(--aisales-primary-hover) 100%);
	box-shadow: 0 2px 12px rgba(34, 113, 177, 0.4);
}

.aisales-chat-input .aisales-btn--primary.aisales-btn--loading .dashicons {
	display: none;
}

/* Override the hover shine effect */
.aisales-chat-input .aisales-btn--primary.aisales-btn--loading::before {
	display: none;
}

/* Spinning loader - centered in 40x40 circular button */
.aisales-chat-input .aisales-btn--primary.aisales-btn--loading::after {
	content: '';
	display: block;
	position: absolute;
	inset: 0;
	margin: auto;
	width: 18px;
	height: 18px;
	border: 2px solid rgba(255, 255, 255, 0.25);
	border-radius: 50%;
	border-top-color: #fff;
	animation: btnSpin 0.6s linear infinite;
}

.aisales-chat-input__hint {
	margin: var(--aisales-space-1) var(--aisales-space-5) var(--aisales-space-3);
	padding: 0;
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-muted);
	opacity: 0.7;
}

/* ==========================================================================
   Product Panel (Right Sidebar)
   ========================================================================== */

.aisales-product-panel {
	display: flex;
	flex-direction: column;
	background: var(--aisales-bg-white);
	border: 1px solid var(--aisales-border-light);
	border-radius: var(--aisales-radius-lg);
	box-shadow: var(--aisales-shadow-sm);
	overflow: hidden;
	max-height: calc(100vh - 180px);
}

/* ----- Empty State ----- */
.aisales-product-empty {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	text-align: center;
	padding: var(--aisales-space-10) var(--aisales-space-6);
	flex: 1;
	background:
		radial-gradient(ellipse at center, var(--aisales-bg-subtle) 0%, transparent 70%);
}

.aisales-product-empty .dashicons {
	font-size: 56px;
	width: 56px;
	height: 56px;
	margin-bottom: var(--aisales-space-5);
	color: var(--aisales-border);
	opacity: 0.6;
}

.aisales-product-empty p {
	font-size: var(--aisales-font-md);
	color: var(--aisales-text-muted);
	margin: 0;
}

/* ----- Product Info ----- */
.aisales-product-info {
	display: flex;
	flex-direction: column;
	height: 100%;
	overflow-y: auto;
}

/* Product Header with Image */
.aisales-product-info__header {
	padding: var(--aisales-space-5);
	background: linear-gradient(180deg, var(--aisales-bg-subtle) 0%, var(--aisales-bg-white) 100%);
	border-bottom: 1px solid var(--aisales-border-light);
	text-align: center;
}

.aisales-product-info__image {
	margin-bottom: var(--aisales-space-4);
}

.aisales-product-info__image img {
	width: 120px;
	height: 120px;
	object-fit: cover;
	border-radius: var(--aisales-radius-lg);
	border: 1px solid var(--aisales-border-light);
	box-shadow: var(--aisales-shadow-md);
}

.aisales-product-info__image img:empty,
.aisales-product-info__image img[src=""] {
	display: none;
}

.aisales-product-info__name {
	font-size: var(--aisales-font-lg);
	font-weight: var(--aisales-font-weight-bold);
	color: var(--aisales-text-primary);
	margin: 0;
	line-height: var(--aisales-line-height-tight);
}

/* Quick Stats Row */
.aisales-product-info__stats {
	display: flex;
	justify-content: space-around;
	padding: var(--aisales-space-4) var(--aisales-space-5);
	background: var(--aisales-bg-subtle);
	border-bottom: 1px solid var(--aisales-border-light);
}

.aisales-product-info__stat {
	text-align: center;
}

.aisales-product-info__stat-value {
	font-size: var(--aisales-font-lg);
	font-weight: var(--aisales-font-weight-bold);
	color: var(--aisales-text-primary);
}

.aisales-product-info__stat-label {
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

/* Product Fields */
.aisales-product-info__fields {
	flex: 1;
	padding: var(--aisales-space-2) 0;
	overflow-y: auto;
}

.aisales-product-info__field {
	margin-bottom: 0;
	padding: var(--aisales-space-3) var(--aisales-space-4);
	border-bottom: 1px solid var(--aisales-border-lighter);
	transition: background var(--aisales-transition-fast);
}

.aisales-product-info__field:hover {
	background: var(--aisales-bg-subtle);
}

.aisales-product-info__field:last-of-type {
	border-bottom: none;
}

.aisales-product-info__label {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	font-size: 11px;
	font-weight: var(--aisales-font-weight-semibold);
	color: var(--aisales-text-muted);
	text-transform: uppercase;
	letter-spacing: 0.8px;
	margin-bottom: var(--aisales-space-2);
}

.aisales-product-info__label .dashicons {
	font-size: 14px;
	width: 14px;
	height: 14px;
	color: var(--aisales-primary);
	opacity: 0.7;
}

.aisales-product-info__value {
	font-size: var(--aisales-font-sm);
	color: var(--aisales-text-primary);
	line-height: var(--aisales-line-height-relaxed);
}

.aisales-product-info__value--truncated {
	max-height: 60px;
	overflow: hidden;
	position: relative;
}

.aisales-product-info__value--truncated::after {
	content: '';
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: 20px;
	background: linear-gradient(transparent, var(--aisales-bg-white));
}

.aisales-product-info__field--expanded .aisales-product-info__value--truncated {
	max-height: none;
}

.aisales-product-info__field--expanded .aisales-product-info__value--truncated::after {
	display: none;
}

.aisales-expand-toggle {
	background: none;
	border: none;
	padding: var(--aisales-space-1);
	margin-left: auto;
	cursor: pointer;
	color: var(--aisales-text-muted);
	border-radius: var(--aisales-radius-sm);
	transition: all var(--aisales-transition-fast);
}

.aisales-expand-toggle:hover {
	color: var(--aisales-primary);
	background: var(--aisales-primary-light);
}

.aisales-product-info__field--expanded .aisales-expand-toggle .dashicons {
	transform: rotate(180deg);
}

/* No Value State */
.aisales-no-value {
	color: var(--aisales-text-muted);
	font-style: italic;
	font-size: var(--aisales-font-sm);
}

/* Tags Display */
.aisales-product-info__tags {
	display: flex;
	flex-wrap: wrap;
	gap: var(--aisales-space-1);
}

.aisales-tag {
	display: inline-block;
	padding: var(--aisales-space-1) var(--aisales-space-3);
	background: var(--aisales-bg-muted);
	border: 1px solid var(--aisales-border);
	border-radius: var(--aisales-radius-full);
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-secondary);
	transition: all var(--aisales-transition-fast);
}

.aisales-tag:hover {
	border-color: var(--aisales-primary);
	color: var(--aisales-primary);
}

.aisales-tag--added {
	background: var(--aisales-success-light);
	border-color: var(--aisales-success);
	color: var(--aisales-success);
}

.aisales-tag--removed {
	background: var(--aisales-danger-light);
	border-color: var(--aisales-danger);
	color: var(--aisales-danger);
	text-decoration: line-through;
}

/* Stock & Status */
.aisales-stock {
	font-weight: var(--aisales-font-weight-medium);
}

.aisales-stock--instock { color: var(--aisales-success); }
.aisales-stock--outofstock { color: var(--aisales-danger); }
.aisales-stock--backorder { color: var(--aisales-warning); }

.aisales-stock__qty {
	color: var(--aisales-text-muted);
	font-weight: var(--aisales-font-weight-normal);
	margin-left: var(--aisales-space-1);
}

.aisales-status {
	display: inline-flex;
	align-items: center;
	padding: var(--aisales-space-1) var(--aisales-space-3);
	border-radius: var(--aisales-radius-full);
	font-size: var(--aisales-font-xs);
	font-weight: var(--aisales-font-weight-medium);
}

.aisales-status--publish {
	background: var(--aisales-success-light);
	color: var(--aisales-success);
}

.aisales-status--draft {
	background: var(--aisales-warning-light);
	color: var(--aisales-warning-hover);
}

.aisales-status--pending {
	background: var(--aisales-info-light);
	color: var(--aisales-info-hover);
}

.aisales-status--private {
	background: var(--aisales-bg-muted);
	color: var(--aisales-text-secondary);
}

/* Pending Changes */
.aisales-product-info__field--has-pending {
	animation: fieldHighlight 0.5s ease;
}

@keyframes fieldHighlight {
	0%, 100% { background-color: transparent; }
	50% { background-color: var(--aisales-warning-light); }
}

.aisales-product-info__pending {
	margin-top: var(--aisales-space-3);
}

.aisales-pending-change {
	display: flex;
	align-items: flex-start;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-2) var(--aisales-space-3);
	background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
	border: 1px solid var(--aisales-success);
	border-radius: var(--aisales-radius-md);
}

.aisales-pending-change__new {
	flex: 1;
	min-width: 0;
	font-size: var(--aisales-font-sm);
	color: var(--aisales-success-hover);
	font-weight: var(--aisales-font-weight-medium);
	line-height: 1.4;
	word-break: break-word;
}

.aisales-pending-change__actions {
	display: flex;
	flex-shrink: 0;
	gap: var(--aisales-space-1);
}

.aisales-pending-change--tags .aisales-pending-change__added,
.aisales-pending-change--tags .aisales-pending-change__removed {
	display: flex;
	flex-wrap: wrap;
	gap: var(--aisales-space-1);
	margin-bottom: var(--aisales-space-1);
}

/* Pending Summary */
.aisales-pending-summary {
	margin: var(--aisales-space-4);
	padding: var(--aisales-space-4);
	background: linear-gradient(135deg, var(--aisales-warning-light) 0%, #fff8e8 100%);
	border: 1px solid var(--aisales-warning);
	border-radius: var(--aisales-radius-md);
	box-shadow: var(--aisales-shadow-sm);
}

.aisales-pending-summary__header {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	font-weight: var(--aisales-font-weight-semibold);
	color: var(--aisales-warning-hover);
	margin-bottom: var(--aisales-space-3);
}

.aisales-pending-summary__actions {
	display: flex;
	gap: var(--aisales-space-2);
}

/* Product Actions Footer */
.aisales-product-info__actions {
	display: flex;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-4);
	background: var(--aisales-bg-subtle);
	border-top: 1px solid var(--aisales-border-light);
	margin-top: auto;
}

.aisales-product-info__actions .aisales-btn {
	flex: 1;
	justify-content: center;
}

/* ==========================================================================
   Button Variants for Chat
   ========================================================================== */

.aisales-btn--xs {
	padding: var(--aisales-space-1) var(--aisales-space-3);
	font-size: var(--aisales-font-xs);
}

.aisales-btn--xs .dashicons {
	font-size: 12px;
	width: 12px;
	height: 12px;
}

.aisales-btn--success {
	background: linear-gradient(135deg, var(--aisales-success) 0%, var(--aisales-success-hover) 100%);
	color: white;
	border: none;
}

.aisales-btn--success:hover {
	background: linear-gradient(135deg, var(--aisales-success-hover) 0%, #006818 100%);
}

.aisales-btn--danger {
	background: linear-gradient(135deg, var(--aisales-danger) 0%, var(--aisales-danger-hover) 100%);
	color: white;
	border: none;
}

.aisales-btn--danger:hover {
	background: linear-gradient(135deg, var(--aisales-danger-hover) 0%, #9a2628 100%);
}

.aisales-btn--outline {
	background: var(--aisales-bg-white);
	border: 1px solid var(--aisales-border);
	color: var(--aisales-text-secondary);
}

.aisales-btn--outline:hover {
	border-color: var(--aisales-primary);
	color: var(--aisales-primary);
	background: var(--aisales-primary-light);
}

.aisales-btn--loading {
	pointer-events: none;
	opacity: 0.7;
}

.aisales-btn--loading::after {
	content: '';
	display: inline-block;
	width: 14px;
	height: 14px;
	border: 2px solid currentColor;
	border-radius: 50%;
	border-top-color: transparent;
	animation: btnSpin 0.8s linear infinite;
	margin-left: var(--aisales-space-2);
}

@keyframes btnSpin {
	to { transform: rotate(360deg); }
}

/* ==========================================================================
   Responsive Styles
   ========================================================================== */

@media screen and (max-width: 1200px) {
	.aisales-chat-container {
		grid-template-columns: 1fr;
	}

	.aisales-chat-panel,
	.aisales-entity-panel {
		position: static;
		height: auto;
		max-height: none;
	}

	.aisales-chat-panel {
		min-height: 500px;
		max-height: 600px;
	}

	.aisales-entity-panel {
		max-height: 500px;
	}
}

@media screen and (max-width: 782px) {
	.aisales-chat-header {
		flex-direction: column;
		gap: var(--aisales-space-3);
	}

	.aisales-product-selector {
		width: 100%;
	}

	.aisales-select {
		max-width: none;
	}

	.aisales-chat-actions {
		width: 100%;
		justify-content: flex-end;
	}

	.aisales-quick-actions__buttons {
		justify-content: center;
	}

	.aisales-suggestion__preview {
		flex-direction: column;
	}

	.aisales-suggestion__arrow {
		transform: rotate(90deg);
		justify-content: center;
	}

	.aisales-balance-indicator {
		margin-left: 0;
		margin-top: var(--aisales-space-3);
	}

	.aisales-admin-wrap.aisales-chat-wrap > h1 {
		flex-wrap: wrap;
	}

	.aisales-product-info__actions {
		flex-direction: column;
	}
}

@media screen and (max-width: 480px) {
	.aisales-chat-messages {
		padding: var(--aisales-space-4);
	}

	.aisales-message {
		max-width: 92%;
	}

	.aisales-quick-actions__buttons .aisales-btn span:not(.dashicons) {
		display: none;
	}

	.aisales-quick-actions__buttons .aisales-btn .dashicons {
		margin-right: 0;
	}

	.aisales-chat-welcome {
		padding: var(--aisales-space-6);
	}

	.aisales-chat-welcome h3 {
		font-size: var(--aisales-font-lg);
	}
}

/* ==========================================================================
   Accessibility & Reduced Motion
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
	.aisales-message,
	.aisales-suggestion,
	.aisales-thinking__dot,
	.aisales-btn--loading::after {
		animation: none;
	}

	.aisales-select,
	.aisales-chat-input textarea,
	.aisales-btn,
	.aisales-tag,
	.aisales-expand-toggle {
		transition: none;
	}
}

/* Focus states */
.aisales-btn:focus-visible,
.aisales-select:focus-visible,
.aisales-chat-input textarea:focus-visible {
	outline: 2px solid var(--aisales-primary);
	outline-offset: 2px;
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
	.aisales-message--user .aisales-message__text {
		background: #000;
		color: #fff;
	}

	.aisales-suggestion,
	.aisales-tag,
	.aisales-pending-change {
		border-width: 2px;
	}

	.aisales-chat-panel,
	.aisales-product-panel {
		border-width: 2px;
	}
}

/* ==========================================================================
   Page Header - Enhanced with Store Context
   ========================================================================== */

.aisales-chat-page-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: var(--aisales-space-4);
	margin-bottom: var(--aisales-space-5);
	padding-bottom: var(--aisales-space-4);
	border-bottom: 1px solid var(--aisales-border-light);
}

.aisales-chat-page-header__left {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-3);
}

.aisales-chat-page-header__left h1 {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-3);
	margin: 0;
	padding: 0;
	font-size: var(--aisales-font-2xl);
	font-weight: var(--aisales-font-weight-bold);
	color: var(--aisales-text-primary);
	border: none;
}

.aisales-chat-page-header__left h1 .dashicons {
	font-size: 28px;
	width: 28px;
	height: 28px;
	color: var(--aisales-primary);
}

.aisales-chat-page-header__right {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-3);
}

/* Store Context Button & Status - Styles in shared-components.css */

/* ==========================================================================
   Onboarding Overlay
   ========================================================================== */

.aisales-onboarding-overlay {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: rgba(0, 0, 0, 0.6);
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 100000;
	backdrop-filter: blur(4px);
	animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
	from { opacity: 0; }
	to { opacity: 1; }
}

.aisales-onboarding-card {
	background: var(--aisales-bg-white);
	border-radius: var(--aisales-radius-xl);
	padding: var(--aisales-space-10);
	max-width: 480px;
	text-align: center;
	box-shadow: var(--aisales-shadow-xl);
	animation: slideUp 0.4s ease;
}

@keyframes slideUp {
	from {
		opacity: 0;
		transform: translateY(24px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.aisales-onboarding-icon {
	width: 80px;
	height: 80px;
	margin: 0 auto var(--aisales-space-6);
	background: linear-gradient(135deg, var(--aisales-primary-light) 0%, var(--aisales-success-light) 100%);
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 8px 24px rgba(34, 113, 177, 0.15);
}

.aisales-onboarding-icon .dashicons {
	font-size: 36px;
	width: 36px;
	height: 36px;
	color: var(--aisales-primary);
}

.aisales-onboarding-card h2 {
	font-size: var(--aisales-font-xl);
	font-weight: var(--aisales-font-weight-bold);
	color: var(--aisales-text-primary);
	margin: 0 0 var(--aisales-space-3) 0;
}

.aisales-onboarding-card > p {
	font-size: var(--aisales-font-md);
	color: var(--aisales-text-secondary);
	line-height: var(--aisales-line-height-relaxed);
	margin: 0 0 var(--aisales-space-6) 0;
}

.aisales-onboarding-actions {
	display: flex;
	flex-direction: column;
	gap: var(--aisales-space-3);
}

.aisales-onboarding-actions .aisales-btn--lg {
	padding: var(--aisales-space-4) var(--aisales-space-6);
	font-size: var(--aisales-font-md);
}

.aisales-onboarding-hint {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: var(--aisales-space-2);
	margin-top: var(--aisales-space-5);
	padding-top: var(--aisales-space-5);
	border-top: 1px solid var(--aisales-border-light);
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-muted);
}

.aisales-onboarding-hint .dashicons {
	font-size: 14px;
	width: 14px;
	height: 14px;
}

/* Store Context Slide-out Panel - Styles in shared-components.css */
/* Chat-specific sync status styles */
.aisales-context-sync__status {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-muted);
}

.aisales-context-sync__status .dashicons {
	font-size: 16px;
	width: 16px;
	height: 16px;
}

/* ==========================================================================
   Entity Switcher
   ========================================================================== */

.aisales-entity-switcher {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-4);
	flex: 1;
}

.aisales-entity-tabs {
	display: flex;
	background: var(--aisales-bg-muted);
	border-radius: var(--aisales-radius-full);
	padding: 3px;
}

.aisales-entity-tab {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-2) var(--aisales-space-4);
	background: none;
	border: none;
	border-radius: var(--aisales-radius-full);
	font-size: var(--aisales-font-sm);
	font-weight: var(--aisales-font-weight-medium);
	color: var(--aisales-text-secondary);
	cursor: pointer;
	transition: all var(--aisales-transition-fast);
}

.aisales-entity-tab .dashicons {
	font-size: 16px;
	width: 16px;
	height: 16px;
}

.aisales-entity-tab:hover:not(.aisales-entity-tab--active) {
	color: var(--aisales-text-primary);
}

.aisales-entity-tab--active {
	background: var(--aisales-bg-white);
	color: var(--aisales-primary);
	box-shadow: var(--aisales-shadow-sm);
}

.aisales-entity-selector {
	flex: 1;
	max-width: 350px;
}

/* ==========================================================================
   Welcome Cards
   ========================================================================== */

.aisales-welcome-cards {
	display: flex;
	flex-direction: column;
	gap: var(--aisales-space-3);
	margin-top: var(--aisales-space-8);
	width: 100%;
	max-width: 480px;
}

.aisales-welcome-card {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-4);
	padding: var(--aisales-space-5);
	background: var(--aisales-bg-white);
	border: 1px solid var(--aisales-border);
	border-radius: var(--aisales-radius-lg);
	text-align: left;
	cursor: pointer;
	transition: all var(--aisales-transition-fast);
	box-shadow: var(--aisales-shadow-xs);
}

.aisales-welcome-card:hover {
	border-color: var(--aisales-primary);
	box-shadow: var(--aisales-shadow-md);
	transform: translateY(-2px);
}

.aisales-welcome-card__icon {
	flex-shrink: 0;
	width: 48px;
	height: 48px;
	display: flex;
	align-items: center;
	justify-content: center;
	background: linear-gradient(135deg, var(--aisales-primary-light) 0%, #d4e8f8 100%);
	border-radius: var(--aisales-radius-lg);
}

.aisales-welcome-card__icon .dashicons {
	font-size: 24px;
	width: 24px;
	height: 24px;
	color: var(--aisales-primary);
}

.aisales-welcome-card__icon--category {
	background: linear-gradient(135deg, var(--aisales-success-light) 0%, #c8f0d4 100%);
}

.aisales-welcome-card__icon--category .dashicons {
	color: var(--aisales-success);
}

.aisales-welcome-card__content {
	flex: 1;
	min-width: 0;
}

.aisales-welcome-card__content h4 {
	margin: 0 0 var(--aisales-space-1) 0;
	font-size: var(--aisales-font-md);
	font-weight: var(--aisales-font-weight-semibold);
	color: var(--aisales-text-primary);
}

.aisales-welcome-card__content p {
	margin: 0;
	font-size: var(--aisales-font-sm);
	color: var(--aisales-text-secondary);
	line-height: var(--aisales-line-height-normal);
}

.aisales-welcome-card__arrow {
	flex-shrink: 0;
	color: var(--aisales-text-muted);
	transition: all var(--aisales-transition-fast);
}

.aisales-welcome-card:hover .aisales-welcome-card__arrow {
	color: var(--aisales-primary);
	transform: translateX(4px);
}

.aisales-welcome-card__arrow .dashicons {
	font-size: 20px;
	width: 20px;
	height: 20px;
}

/* Welcome Context Hint */
.aisales-welcome-context-hint {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	margin-top: var(--aisales-space-6);
	padding: var(--aisales-space-3) var(--aisales-space-4);
	background: var(--aisales-info-light);
	border-radius: var(--aisales-radius-md);
	font-size: var(--aisales-font-sm);
	color: var(--aisales-text-secondary);
}

.aisales-welcome-context-hint .dashicons {
	font-size: 16px;
	width: 16px;
	height: 16px;
	line-height: 1;
	color: var(--aisales-info);
	flex-shrink: 0;
	display: inline-flex;
	align-items: center;
	justify-content: center;	
}

.aisales-welcome-context-hint .aisales-btn--link {
	background: none;
	border: none;
	padding: 0;
	color: var(--aisales-primary);
	font-weight: var(--aisales-font-weight-semibold);
	cursor: pointer;
	text-decoration: underline;
}

.aisales-welcome-context-hint .aisales-btn--link:hover {
	color: var(--aisales-primary-hover);
}

/* ==========================================================================
   Entity Panel (replaces product-only panel)
   ========================================================================== */

.aisales-entity-panel {
	position: sticky;
	top: 32px; /* WordPress admin bar height */
	display: flex;
	flex-direction: column;
	background: var(--aisales-bg-white);
	border: 1px solid var(--aisales-border-light);
	border-radius: var(--aisales-radius-lg);
	box-shadow: var(--aisales-shadow-sm);
	overflow: hidden;
	max-height: calc(100vh - 80px);
	overflow-y: auto;
}

.aisales-entity-empty {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	text-align: center;
	padding: var(--aisales-space-10) var(--aisales-space-6);
	flex: 1;
	background: radial-gradient(ellipse at center, var(--aisales-bg-subtle) 0%, transparent 70%);
}

.aisales-entity-empty .dashicons {
	font-size: 56px;
	width: 56px;
	height: 56px;
	margin-bottom: var(--aisales-space-5);
	color: var(--aisales-border);
	opacity: 0.6;
}

.aisales-entity-empty p {
	font-size: var(--aisales-font-md);
	color: var(--aisales-text-muted);
	margin: 0;
}

/* ==========================================================================
   Category Info Panel
   ========================================================================== */

.aisales-category-info {
	display: flex;
	flex-direction: column;
	height: 100%;
	overflow-y: auto;
}

/* Category Header */
.aisales-category-info__header {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-4);
	padding: var(--aisales-space-5);
	background: linear-gradient(180deg, var(--aisales-bg-subtle) 0%, var(--aisales-bg-white) 100%);
	border-bottom: 1px solid var(--aisales-border-light);
}

.aisales-category-info__icon {
	flex-shrink: 0;
	width: 56px;
	height: 56px;
	display: flex;
	align-items: center;
	justify-content: center;
	background: linear-gradient(135deg, var(--aisales-success-light) 0%, #c8f0d4 100%);
	border-radius: var(--aisales-radius-lg);
	box-shadow: var(--aisales-shadow-sm);
}

.aisales-category-info__icon .dashicons {
	font-size: 28px;
	width: 28px;
	height: 28px;
	color: var(--aisales-success);
}

.aisales-category-info__title {
	display: flex;
	flex-direction: column;
	gap: var(--aisales-space-1);
	min-width: 0;
}

.aisales-category-info__title span:first-child {
	font-size: var(--aisales-font-lg);
	font-weight: var(--aisales-font-weight-bold);
	color: var(--aisales-text-primary);
	line-height: var(--aisales-line-height-tight);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.aisales-category-info__parent {
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-muted);
}

.aisales-category-info__parent:empty {
	display: none;
}

/* Category Stats */
.aisales-category-info__stats {
	display: flex;
	justify-content: space-around;
	padding: var(--aisales-space-4) var(--aisales-space-5);
	background: var(--aisales-bg-subtle);
	border-bottom: 1px solid var(--aisales-border-light);
}

.aisales-category-stat {
	text-align: center;
}

.aisales-category-stat__value {
	display: block;
	font-size: var(--aisales-font-xl);
	font-weight: var(--aisales-font-weight-bold);
	color: var(--aisales-text-primary);
}

.aisales-category-stat__label {
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

/* Category Fields */
.aisales-category-info__field {
	margin-bottom: 0;
	padding: var(--aisales-space-3) var(--aisales-space-4);
	border-bottom: 1px solid var(--aisales-border-lighter);
	transition: background var(--aisales-transition-fast);
}

.aisales-category-info__field:hover {
	background: var(--aisales-bg-subtle);
}

.aisales-category-info__field:last-of-type {
	border-bottom: none;
}

.aisales-category-info__label {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	font-size: 11px;
	font-weight: var(--aisales-font-weight-semibold);
	color: var(--aisales-text-muted);
	text-transform: uppercase;
	letter-spacing: 0.8px;
	margin-bottom: var(--aisales-space-2);
}

.aisales-category-info__label .dashicons {
	font-size: 14px;
	width: 14px;
	height: 14px;
	color: var(--aisales-success);
	opacity: 0.7;
}

.aisales-category-info__value {
	font-size: var(--aisales-font-sm);
	color: var(--aisales-text-primary);
	line-height: var(--aisales-line-height-relaxed);
}

.aisales-category-info__value--truncated {
	max-height: 60px;
	overflow: hidden;
	position: relative;
}

.aisales-category-info__value--truncated::after {
	content: '';
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: 20px;
	background: linear-gradient(transparent, var(--aisales-bg-white));
}

.aisales-category-info__field--expanded .aisales-category-info__value--truncated {
	max-height: none;
}

.aisales-category-info__field--expanded .aisales-category-info__value--truncated::after {
	display: none;
}

/* Subcategories display */
.aisales-category-info__subcats {
	display: flex;
	flex-wrap: wrap;
	gap: var(--aisales-space-1);
}

.aisales-subcat-tag {
	display: inline-flex;
	align-items: center;
	gap: var(--aisales-space-1);
	padding: var(--aisales-space-1) var(--aisales-space-3);
	background: var(--aisales-bg-muted);
	border: 1px solid var(--aisales-border);
	border-radius: var(--aisales-radius-full);
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-secondary);
	transition: all var(--aisales-transition-fast);
}

.aisales-subcat-tag:hover {
	border-color: var(--aisales-success);
	color: var(--aisales-success);
}

.aisales-subcat-tag .dashicons {
	font-size: 12px;
	width: 12px;
	height: 12px;
}

/* Category Actions */
.aisales-category-info__actions {
	display: flex;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-4);
	background: var(--aisales-bg-subtle);
	border-top: 1px solid var(--aisales-border-light);
	margin-top: auto;
}

.aisales-category-info__actions .aisales-btn {
	flex: 1;
	justify-content: center;
}

/* Category Pending Changes */
.aisales-category-info__pending {
	margin-top: var(--aisales-space-3);
}

.aisales-category-info__field--has-pending {
	animation: fieldHighlight 0.5s ease;
}

/* ==========================================================================
   Additional Button Variants
   ========================================================================== */

.aisales-btn--lg {
	padding: var(--aisales-space-4) var(--aisales-space-6);
	font-size: var(--aisales-font-md);
}

.aisales-btn--sm {
	padding: var(--aisales-space-2) var(--aisales-space-4);
	font-size: var(--aisales-font-sm);
}

.aisales-btn--secondary {
	background: var(--aisales-bg-white);
	border: 1px solid var(--aisales-primary);
	color: var(--aisales-primary);
}

.aisales-btn--secondary:hover {
	background: var(--aisales-primary-light);
}

/* ==========================================================================
   Hide default WordPress h1 when using custom header
   ========================================================================== */

.aisales-admin-wrap.aisales-chat-wrap > h1:not(.aisales-chat-page-header__left h1) {
	display: none;
}

/* ==========================================================================
   Attachment Styles
   ========================================================================== */

/* Attachment Button (Icon button) */
.aisales-btn--icon {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 40px;
	height: 40px;
	min-width: 40px;
	padding: 0;
	background: var(--aisales-bg-white);
	border: 1px solid var(--aisales-border);
	border-radius: var(--aisales-radius-md);
	color: var(--aisales-text-secondary);
	cursor: pointer;
	transition: all var(--aisales-transition-fast);
	position: relative;
}

.aisales-btn--icon:hover {
	border-color: var(--aisales-primary);
	color: var(--aisales-primary);
	background: var(--aisales-primary-light);
}

.aisales-btn--icon .dashicons {
	font-size: 20px;
	width: 20px;
	height: 20px;
}

/* Attachment count badge */
.aisales-attachment-count {
	position: absolute;
	top: -6px;
	right: -6px;
	min-width: 18px;
	height: 18px;
	padding: 0 5px;
	background: var(--aisales-primary);
	color: white;
	font-size: 11px;
	font-weight: var(--aisales-font-weight-bold);
	line-height: 18px;
	text-align: center;
	border-radius: var(--aisales-radius-full);
}

/* Attachment Previews Container */
.aisales-attachment-previews {
	display: flex;
	flex-wrap: wrap;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-3);
	margin-bottom: var(--aisales-space-2);
	background: var(--aisales-bg-subtle);
	border: 1px solid var(--aisales-border-light);
	border-radius: var(--aisales-radius-md);
}

/* Individual Attachment Preview */
.aisales-attachment-preview {
	position: relative;
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: var(--aisales-space-1);
	padding: var(--aisales-space-2);
	background: var(--aisales-bg-white);
	border: 1px solid var(--aisales-border);
	border-radius: var(--aisales-radius-md);
	width: 80px;
	transition: all var(--aisales-transition-fast);
}

.aisales-attachment-preview:hover {
	border-color: var(--aisales-primary);
	box-shadow: var(--aisales-shadow-sm);
}

.aisales-attachment-preview img {
	width: 60px;
	height: 60px;
	object-fit: cover;
	border-radius: var(--aisales-radius-sm);
}

.aisales-attachment-preview__icon {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 60px;
	height: 60px;
	background: var(--aisales-bg-muted);
	border-radius: var(--aisales-radius-sm);
}

.aisales-attachment-preview__icon .dashicons {
	font-size: 28px;
	width: 28px;
	height: 28px;
	color: var(--aisales-text-secondary);
}

.aisales-attachment-preview__icon .dashicons-pdf {
	color: #dc3545;
}

.aisales-attachment-preview__name {
	font-size: 10px;
	color: var(--aisales-text-secondary);
	text-align: center;
	word-break: break-word;
	max-width: 100%;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

/* Remove button */
.aisales-attachment-remove {
	position: absolute;
	top: -8px;
	right: -8px;
	width: 20px;
	height: 20px;
	padding: 0;
	background: var(--aisales-danger, #dc3545);
	border: 2px solid var(--aisales-bg-white);
	border-radius: var(--aisales-radius-full);
	color: white;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	opacity: 0;
	transition: opacity var(--aisales-transition-fast);
}

.aisales-attachment-preview:hover .aisales-attachment-remove {
	opacity: 1;
}

.aisales-attachment-remove .dashicons {
	font-size: 14px;
	width: 14px;
	height: 14px;
}

/* Drag and Drop Overlay */
.aisales-chat-input.aisales-drag-over {
	position: relative;
}

.aisales-chat-input.aisales-drag-over::after {
	content: 'Drop files here';
	position: absolute;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	background: rgba(86, 52, 173, 0.1);
	border: 2px dashed var(--aisales-primary);
	border-radius: var(--aisales-radius-lg);
	color: var(--aisales-primary);
	font-size: var(--aisales-font-md);
	font-weight: var(--aisales-font-weight-medium);
	z-index: 10;
	pointer-events: none;
}

/* Attachment hint */
.aisales-attachment-hint {
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-muted);
	margin-right: auto;
}

/* Message Attachments (in message bubbles) */
.aisales-message__attachments {
	display: flex;
	flex-wrap: wrap;
	gap: var(--aisales-space-2);
	margin-bottom: var(--aisales-space-2);
	padding-bottom: var(--aisales-space-2);
	border-bottom: 1px solid var(--aisales-border-light);
}

.aisales-message__attachment {
	display: inline-flex;
	align-items: center;
	gap: var(--aisales-space-1);
	padding: var(--aisales-space-1) var(--aisales-space-2);
	background: var(--aisales-bg-muted);
	border-radius: var(--aisales-radius-sm);
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-secondary);
}

.aisales-message__attachment .dashicons {
	font-size: 14px;
	width: 14px;
	height: 14px;
}

.aisales-message__attachment .dashicons-format-image {
	color: var(--aisales-primary);
}

.aisales-message__attachment .dashicons-pdf {
	color: #dc3545;
}

/* Update chat input wrapper to accommodate attachment button */
.aisales-chat-input__wrapper {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	background: var(--aisales-bg-white);
	border: 2px solid var(--aisales-border);
	border-radius: var(--aisales-radius-lg);
	padding: var(--aisales-space-2);
	transition: all var(--aisales-transition-fast);
}

.aisales-chat-input__wrapper:focus-within {
	border-color: var(--aisales-primary);
	box-shadow: 0 0 0 3px rgba(86, 52, 173, 0.1);
}

/* ==========================================================================
   Agent Mode Styles
   ========================================================================== */

/* Agent Tab - Special Styling */
.aisales-entity-tab[data-type="agent"] {
	position: relative;
}

.aisales-entity-tab[data-type="agent"].aisales-entity-tab--active {
	background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
	color: white;
}

.aisales-entity-tab[data-type="agent"].aisales-entity-tab--active .dashicons {
	color: white;
}

/* Agent Welcome Card */
.aisales-welcome-card--agent {
	border-color: #e0e7ff;
}

.aisales-welcome-card--agent:hover {
	border-color: #6366f1;
	background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%);
}

.aisales-welcome-card__icon--agent {
	background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
}

.aisales-welcome-card__icon--agent .dashicons {
	color: #6366f1;
}

/* Agent Quick Actions */
.aisales-quick-actions--agent {
	background: linear-gradient(180deg, #f5f3ff 0%, var(--aisales-bg-white) 100%);
	border-top-color: #e0e7ff;
}

.aisales-quick-actions--agent .aisales-quick-actions__label {
	color: #6366f1;
}

.aisales-btn--agent:not(:disabled):hover {
	background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%);
	border-color: #6366f1;
	color: #6366f1;
}

/* Agent Info Panel */
.aisales-agent-info {
	display: flex;
	flex-direction: column;
	height: 100%;
	overflow-y: auto;
}

.aisales-agent-info__header {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-4);
	padding: var(--aisales-space-5);
	background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%);
	border-bottom: 1px solid #e0e7ff;
}

.aisales-agent-info__icon {
	flex-shrink: 0;
	width: 56px;
	height: 56px;
	display: flex;
	align-items: center;
	justify-content: center;
	background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
	border-radius: var(--aisales-radius-lg);
	box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.aisales-agent-info__icon .dashicons {
	font-size: 28px;
	width: 28px;
	height: 28px;
	color: white;
}

.aisales-agent-info__title {
	display: flex;
	flex-direction: column;
	gap: var(--aisales-space-1);
	min-width: 0;
}

.aisales-agent-info__title span:first-child {
	font-size: var(--aisales-font-lg);
	font-weight: var(--aisales-font-weight-bold);
	color: var(--aisales-text-primary);
	line-height: var(--aisales-line-height-tight);
}

.aisales-agent-info__subtitle {
	font-size: var(--aisales-font-xs);
	color: #6366f1;
	font-weight: var(--aisales-font-weight-medium);
}

/* Agent Section */
.aisales-agent-info__section {
	padding: var(--aisales-space-4);
	border-bottom: 1px solid var(--aisales-border-light);
}

.aisales-agent-info__section-title {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	font-size: 11px;
	font-weight: var(--aisales-font-weight-semibold);
	color: #6366f1;
	text-transform: uppercase;
	letter-spacing: 0.8px;
	margin-bottom: var(--aisales-space-3);
}

.aisales-agent-info__section-title .dashicons {
	font-size: 14px;
	width: 14px;
	height: 14px;
}

/* Agent Capabilities */
.aisales-agent-info__capabilities {
	margin: 0;
	padding: 0;
	display: flex;
	flex-direction: column;
	gap: var(--aisales-space-2);
}

.aisales-capability-btn {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-2) var(--aisales-space-3);
	background: var(--aisales-bg-subtle);
	border: 1px solid transparent;
	border-radius: var(--aisales-radius-md);
	font-size: var(--aisales-font-sm);
	color: var(--aisales-text-secondary);
	text-align: left;
	cursor: pointer;
	transition: all var(--aisales-transition-fast);
	width: 100%;
}

.aisales-capability-btn:hover {
	background: #f5f3ff;
	color: #6366f1;
	border-color: #c7d2fe;
}

.aisales-capability-btn .dashicons {
	font-size: 16px;
	width: 16px;
	height: 16px;
	color: #6366f1;
	opacity: 0.7;
}

.aisales-capability-btn:hover .dashicons {
	opacity: 1;
}

/* Agent Tips */
.aisales-agent-info__tips {
	padding: var(--aisales-space-4);
	margin-top: auto;
}

.aisales-agent-info__tip {
	display: flex;
	align-items: flex-start;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-3);
	background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
	border: 1px solid #f59e0b;
	border-radius: var(--aisales-radius-md);
	font-size: var(--aisales-font-xs);
	color: #92400e;
}

.aisales-agent-info__tip .dashicons {
	font-size: 14px;
	width: 14px;
	height: 14px;
	color: #f59e0b;
	flex-shrink: 0;
	margin-top: 1px;
}

/* Agent Mode - Empty state styling */
.aisales-entity-empty .dashicons-superhero-alt {
	color: #6366f1;
	opacity: 0.8;
}

/* Marketing Image Preview (for generated images) */
.aisales-marketing-image {
	margin-top: var(--aisales-space-4);
	border-radius: var(--aisales-radius-lg);
	overflow: hidden;
	border: 1px solid var(--aisales-border);
	box-shadow: var(--aisales-shadow-sm);
}

.aisales-marketing-image img {
	width: 100%;
	height: auto;
	display: block;
}

.aisales-marketing-image__actions {
	display: flex;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-3);
	background: var(--aisales-bg-subtle);
	border-top: 1px solid var(--aisales-border-light);
}

/* Campaign Content Preview */
.aisales-campaign-content {
	margin-top: var(--aisales-space-4);
	border: 1px solid var(--aisales-border);
	border-radius: var(--aisales-radius-lg);
	overflow: hidden;
}

.aisales-campaign-content__header {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-3) var(--aisales-space-4);
	background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%);
	border-bottom: 1px solid #e0e7ff;
	font-weight: var(--aisales-font-weight-semibold);
	color: #6366f1;
	font-size: var(--aisales-font-sm);
}

.aisales-campaign-content__header .dashicons {
	font-size: 16px;
	width: 16px;
	height: 16px;
}

.aisales-campaign-content__body {
	padding: var(--aisales-space-4);
	background: var(--aisales-bg-white);
}

.aisales-campaign-content__platform {
	display: flex;
	align-items: center;
	gap: var(--aisales-space-2);
	font-size: var(--aisales-font-xs);
	color: var(--aisales-text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
	margin-bottom: var(--aisales-space-2);
}

.aisales-campaign-content__text {
	font-size: var(--aisales-font-sm);
	color: var(--aisales-text-primary);
	line-height: var(--aisales-line-height-relaxed);
	white-space: pre-wrap;
}

.aisales-campaign-content__actions {
	display: flex;
	gap: var(--aisales-space-2);
	padding: var(--aisales-space-3) var(--aisales-space-4);
	background: var(--aisales-bg-subtle);
	border-top: 1px solid var(--aisales-border-light);
}

